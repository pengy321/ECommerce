"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[2],{9002:function(t,a,s){s.r(a),s.d(a,{default:function(){return g}});var r=function(){var t=this,a=t._self._c;return a("div",[a("TypeNav"),a("div",{staticClass:"main"},[a("div",{staticClass:"py-container"},[a("div",{staticClass:"bread"},[t._m(0),a("ul",{staticClass:"fl sui-tag"},[t.sratchParams.categoryName?a("li",{staticClass:"with-x"},[t._v(t._s(t.sratchParams.categoryName)),a("i",{on:{click:t.removeCategoryName}},[t._v("X")])]):t._e(),t.sratchParams.keyword?a("li",{staticClass:"with-x"},[t._v(t._s(t.sratchParams.keyword)),a("i",{on:{click:t.removeKeyword}},[t._v("X")])]):t._e(),t.sratchParams.trademark?a("li",{staticClass:"with-x"},[t._v(t._s(t.sratchParams.trademark.split(":")[1])),a("i",{on:{click:t.removeTradeMark}},[t._v("X")])]):t._e(),t._l(t.sratchParams.props,(function(s,r){return a("li",{key:r,staticClass:"with-x"},[t._v(t._s(s.split(":")[1])),a("i",{on:{click:function(a){return t.removeAttrValue(r)}}},[t._v("X")])])}))],2)]),a("SearchSelector",{on:{trademarkInfo:t.trademarkInfo,attrInfo:t.attrInfo}}),a("div",{staticClass:"details clearfix"},[a("div",{staticClass:"sui-navbar"},[a("div",{staticClass:"navbar-inner filter"},[a("ul",{staticClass:"sui-nav"},[a("li",{class:{active:t.isOne},on:{click:function(a){return t.changeOrder("1")}}},[a("a",[t._v("综合"),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isOne,expression:"isOne"}],staticClass:"iconfont",class:{"icon-UP":t.isAcs,"icon-DOWN":t.isDesc}})])]),a("li",{class:{active:t.isTwo},on:{click:function(a){return t.changeOrder("2")}}},[a("a",[t._v("价格"),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isTwo,expression:"isTwo"}],staticClass:"iconfont",class:{"icon-UP":t.isAcs,"icon-DOWN":t.isDesc}})])])])])]),a("div",{staticClass:"goods-list"},[a("ul",{staticClass:"yui3-g"},t._l(t.goodsList,(function(s,r){return a("li",{key:s.id,staticClass:"yui3-u-1-5"},[a("div",{staticClass:"list-wrap"},[a("div",{staticClass:"p-img"},[a("router-link",{attrs:{to:`/detail/${s.id}`}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.defaultImg,expression:"good.defaultImg"}]})])],1),a("div",{staticClass:"price"},[a("strong",[a("em",[t._v("¥")]),a("i",[t._v(t._s(s.price)+".00")])])]),a("div",{staticClass:"attr"},[a("a",{attrs:{href:"item.html",title:"促销信息，下单即赠送三个月CIBN视频会员卡！【小米电视新品4A 58 火爆预约中】"}},[t._v(t._s(s.title))])]),t._m(1,!0),t._m(2,!0)])])})),0)]),a("Pagination",{attrs:{pageNo:t.sratchParams.pageNo,pageSize:t.sratchParams.pageSize,total:t.total,continues:5},on:{getPageNo:t.getPageNo}})],1)],1)])],1)},e=[function(){var t=this,a=t._self._c;return a("ul",{staticClass:"fl sui-breadcrumb"},[a("li",[a("a",{attrs:{href:"#"}},[t._v("全部结果")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"commit"},[a("i",{staticClass:"command"},[t._v("已有"),a("span",[t._v("2000")]),t._v("人评价")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"operate"},[a("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"success-cart.html",target:"_blank"}},[t._v("加入购物车")]),a("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[t._v("收藏")])])}],i=(s(7658),function(){var t=this,a=t._self._c;return a("div",{staticClass:"clearfix selector"},[a("div",{staticClass:"type-wrap logo"},[a("div",{staticClass:"fl key brand"},[t._v("品牌")]),a("div",{staticClass:"value logos"},[a("ul",{staticClass:"logo-list"},t._l(t.trademarkList,(function(s,r){return a("li",{key:s.tmId,on:{click:function(a){return t.tradeMatkHandler(s)}}},[t._v(t._s(s.tmName))])})),0)]),t._m(0)]),t._l(t.attrsList,(function(s,r){return a("div",{key:s.attrId,staticClass:"type-wrap"},[a("div",{staticClass:"fl key"},[t._v(t._s(s.attrName))]),a("div",{staticClass:"fl value"},[a("ul",{staticClass:"type-list"},t._l(s.attrValueList,(function(r,e){return a("li",{key:e,on:{click:function(a){return t.attrInfo(s,r)}}},[a("a",[t._v(t._s(r))])])})),0)]),a("div",{staticClass:"fl ext"})])}))],2)}),c=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"ext"},[a("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[t._v("多选")]),a("a",{attrs:{href:"javascript:void(0);"}},[t._v("更多")])])}],o=s(3822),n={name:"SearchSelector",computed:{...(0,o.Se)(["trademarkList","attrsList","goodsList"])},methods:{tradeMatkHandler(t){this.$emit("trademarkInfo",t)},attrInfo(t,a){this.$emit("attrInfo",t,a)}}},l=n,d=s(1001),h=(0,d.Z)(l,i,c,!1,null,"0a40e0b2",null),m=h.exports,u={name:"Search",components:{SearchSelector:m},data(){return{sratchParams:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",order:"1:desc",pageNo:1,pageSize:10,props:[],trademar:""}}},beforeMount(){Object.assign(this.sratchParams,this.$route.query,this.$route.params)},mounted(){this.getData()},computed:{...(0,o.Se)(["goodsList"]),isOne(){return-1!=this.sratchParams.order.indexOf("1")},isTwo(){return-1!=this.sratchParams.order.indexOf("2")},isAcs(){return-1!=this.sratchParams.order.indexOf("asc")},isDesc(){return-1!=this.sratchParams.order.indexOf("desc")},...(0,o.rn)({total:t=>t.search.searchList.total})},methods:{getData(){this.$store.dispatch("reqGetSearcgList",this.sratchParams)},removeCategoryName(){this.sratchParams.categoryName=void 0,this.sratchParams.category1Id=void 0,this.sratchParams.category2Id=void 0,this.sratchParams.category3Id=void 0,this.getData(),this.$route.params&&this.$router.push({name:"search",params:this.$route.params})},removeKeyword(){this.sratchParams.keyword=void 0,this.getData(),this.$bus.$emit("clear"),this.$route.query&&this.$router.push({name:"search",params:this.$route.query})},trademarkInfo(t){this.sratchParams.trademark=`${t.tmId}:${t.tmName}`,this.getData()},removeTradeMark(){this.sratchParams.trademark=void 0,this.getData()},removeAttrValue(t){this.sratchParams.props.splice(t,1),this.getData()},attrInfo(t,a){let s=`${t.attrId}:${a}:${t.attrName}`;-1==this.sratchParams.props.indexOf(s)&&(this.sratchParams.props.push(s),this.getData())},changeOrder(t){let a=this.sratchParams.order,s=a.split(":")[0],r=a.split(":")[1],e="";t==s?(e=`${s}:${"desc"==r?"asc":"desc"}`,console.log(e)):e=`${t}:desc`,this.sratchParams.order=e,this.getData()},getPageNo(t){this.sratchParams.pageNo=t,this.getData()}},watch:{$route(t,a){Object.assign(this.sratchParams,this.$route.query,this.$route.params),this.getData(),this.sratchParams.category1Id=void 0,this.sratchParams.category2Id=void 0,this.sratchParams.category3Id=void 0}}},v=u,p=(0,d.Z)(v,r,e,!1,null,"dbb394b2",null),g=p.exports}}]);